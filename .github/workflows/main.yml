name: Domain Diagnostic
on: workflow_dispatch

jobs:
  diagnose:
    runs-on: ubuntu-latest
    steps:
      - name: Run comprehensive diagnostics
        run: |
          echo "ğŸ” Running comprehensive domain diagnostics..."
          echo "Target domain: tst1.xo.je"
          echo ""
          
          echo "1. ğŸ” DNS Lookup:"
          nslookup tst1.xo.je || echo "âŒ DNS lookup failed"
          echo ""
          
          echo "2. ğŸŒ Ping Test:"
          ping -c 3 tst1.xo.je || echo "âŒ Ping failed"
          echo ""
          
          echo "3. ğŸšª Port 80 Test (HTTP):"
          timeout 5 curl -v http://tst1.xo.je/ || echo "âŒ HTTP connection failed"
          echo ""
          
          echo "4. ğŸ”’ Port 443 Test (HTTPS):"
          timeout 5 curl -v https://tst1.xo.je/ || echo "âŒ HTTPS connection failed"
          echo ""
          
          echo "5. ğŸŒ External DNS Check:"
          curl -s "https://dns.google/resolve?name=tst1.xo.je&type=A" | jq . || echo "âŒ External DNS check failed"
          echo ""
          
          echo "6. ğŸ“¡ Traceroute:"
          traceroute -m 10 tst1.xo.je || echo "âŒ Traceroute failed"
